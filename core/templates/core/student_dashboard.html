{% extends 'core/base.html' %}
<!-- Uses your base layout (with navbar, AOS, Bootstrap) -->

{% block title %}Dashboard | CollegeConnect{% endblock %}
<!-- Sets the title in the browser tab. -->

{% block content %}
<!-- All dashboard content will go inside this block -->

<div class="container mt-5">
<!-- Bootstrap container for spacing and center layout.
mt-5 adds top margin. -->
    <div class="text-center mb-4">
      <h1 class="fw-bold">ðŸ‘‹ Welcome, {{ username }}!</h1>
      <p class="text-muted">Your academic command center.</p>
    </div>
    <!-- Personalized greeting using {{ username }}.
    Nice intro message with muted gray text.
    fw-bold = bold heading. -->
  
    <div class="row text-center">
      <div class="col-md-4 mb-3" data-aos="fade-right">
        <!-- Adds animation when scrolling using AOS (fade-right).
        mb-3: bottom margin between cards. -->
        <div class="card border-0 shadow-lg">
        <!-- Removes border and adds large shadow -->
          <div class="card-body">
            <h5 class="card-title">ðŸ“š Study Materials</h5>
            <p class="card-text">You have {{ materials_count }} notes saved.</p>
            <a href="{% url 'materials' %}" class="btn btn-outline-primary btn-sm">View Materials</a>
          </div>
        </div>
      </div>

      <!-- Attendance Card -->
      <div class="col-md-4 mb-3" data-aos="fade-up">
        <div class="card border-0 shadow-lg">
          <div class="card-body">
            <h5 class="card-title">ðŸ•’ Attendance</h5>
            <p class="card-text">{{ attendance_percent }}% this semester!</p>
            <a href="{% url 'attendance' %}" class="btn btn-outline-success btn-sm">Check Details</a>
          </div>
        </div>
      </div>

      <!-- Events Card -->
      <div class="col-md-4 mb-3" data-aos="fade-left">
        <div class="card border-0 shadow-lg">
          <div class="card-body">
            <h5 class="card-title">ðŸ“† Events</h5>
            <p class="card-text">{{ upcoming_events }} upcoming events.</p>
            <a href="{% url 'events' %}" class="btn btn-outline-warning btn-sm">See Events</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Announcements Section -->
<div class="mt-5" data-aos="fade-up">
  <h3 class="fw-bold mb-3">ðŸ“¢ Latest Announcements</h3>

  {% for announce in announcements %}
  <div class="alert alert-info shadow-sm" role="alert">
    <h5 class="mb-1">{{ announce.title }}</h5>
    <small class="text-muted">{{ announce.date_posted|date:"d M Y, H:i" }}</small>
    <p class="mb-0">{{ announce.content }}</p>
  </div>
  {% empty %}
  <p class="text-muted">No announcements at the moment.</p>
  {% endfor %}
</div>

<!-- See all link -->
    <div class="text-end mt-2">
      <a href="{% url 'announcements' %}" class="btn btn-link">See all announcements âž”</a>
    </div>
  {% endblock %}
  <!-- End the block so it goes back to base layout. -->